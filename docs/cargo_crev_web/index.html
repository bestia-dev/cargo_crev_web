<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Rust-reviews (working title cargo_crev_web)"><meta name="keywords" content="rust, rustlang, rust-lang, cargo_crev_web"><title>cargo_crev_web - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../cargo_crev_web/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate cargo_crev_web</h2><div class="block version"><div class="narrow-helper"></div><p>Version 2021.1205.1136</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all cargo_crev_web's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="cargo_crev_web" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">cargo_crev_web</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/cargo_crev_web/main.rs.html#7-320" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h1 id="rust-reviews-working-title-cargo_crev_web" class="section-header"><a href="#rust-reviews-working-title-cargo_crev_web">Rust-reviews (working title cargo_crev_web)</a></h1>
<p><em><strong>version: 2020.822.1757  date: 2020-08-22 reviewers: Luciano Bestia</strong></em><br />
<strong>web server to query reviews from cargo-crev</strong></p>
<p><a href="https://github.com/LucianoBestia/cargo_crev_web/"><img src="https://img.shields.io/badge/Lines_in_Rust-4270-green.svg" alt="Lines in Rust code" /></a>
<a href="https://github.com/LucianoBestia/cargo_crev_web/"><img src="https://img.shields.io/badge/Lines_in_Doc_comments-508-blue.svg" alt="Lines in Doc comments" /></a>
<a href="https://github.com/LucianoBestia/cargo_crev_web/"><img src="https://img.shields.io/badge/Lines_in_comments-588-purple.svg" alt="Lines in Comments" /></a>
<a href="https://github.com/LucianoBestia/cargo_crev_web/"><img src="https://img.shields.io/badge/Lines_in_examples-0-yellow.svg" alt="Lines in examples" /></a>
<a href="https://github.com/LucianoBestia/cargo_crev_web/"><img src="https://img.shields.io/badge/Lines_in_tests-57-orange.svg" alt="Lines in tests" /></a></p>
<p><img src="https://github.com/LucianoBestia/cargo_crev_web/blob/master/web_server_folder/web_content_folder/images/snip_01.png?raw=true" width="400"/><img src="https://github.com/LucianoBestia/cargo_crev_web/blob/master/web_server_folder/web_content_folder/images/snip_02.png?raw=true" width="400"/><img src="https://github.com/LucianoBestia/cargo_crev_web/blob/master/web_server_folder/web_content_folder/images/snip_03.png?raw=true" width="400"/><img src="https://github.com/LucianoBestia/cargo_crev_web/blob/master/web_server_folder/web_content_folder/images/snip_04.png?raw=true" width="400"/><img src="https://github.com/LucianoBestia/cargo_crev_web/blob/master/web_server_folder/web_content_folder/images/snip_05.png?raw=true" width="400"/></p>
<h2 id="try-it-out" class="section-header"><a href="#try-it-out">Try it out</a></h2>
<p><a href="https://web.crev.dev/rust-reviews/crate/num-traits/">https://web.crev.dev/rust-reviews/crate/num-traits/</a></p>
<h2 id="cargo-crev" class="section-header"><a href="#cargo-crev">cargo-crev</a></h2>
<p>Cargo-crev is a system of review for rust crates in crates.io.<br />
<a href="https://github.com/crev-dev/cargo-crev">https://github.com/crev-dev/cargo-crev</a><br />
Originally it is a CLI that programmers use on their local machines while developing.<br />
I would like to make a public cargo-crev web app to query reviews globally.<br />
The installation of cargo-crev is complicated and involving.<br />
Having a web app will be very good for promoting the system.<br />
The basis of cargo-crev is a list of trusted individuals.<br />
For the web it would be a broader number of people to achieve more understanding in the community.<br />
The same machine will have the web server and the git repository for cargo-crev.</p>
<h2 id="crev---rust-code-reviews---raise-awareness" class="section-header"><a href="#crev---rust-code-reviews---raise-awareness">CREV - Rust code reviews - Raise awareness</a></h2>
<p>Please, spread this info !<br />
Open source code needs a community effort to express trustworthiness.<br />
Start with reading the reviews of the crates you use. Example: <a href="https://web.crev.dev/rust-reviews/crate/num-traits/">web.crev.dev/rust-reviews/crate/num-traits/</a> <br />
Than install the CLI <a href="https://github.com/crev-dev/cargo-crev">cargo-crev</a>. Read the <a href="https://github.com/crev-dev/cargo-crev/blob/master/cargo-crev/src/doc/getting_started.md">Getting Started guide</a>. <br />
On your Rust project, verify the trustworthiness of all dependencies, including transient dependencies with <code>cargo crev verify</code><br />
Write a new review ! <br />
Describe the crates you trust. Or warn about the crate versions you think are dangerous.<br />
Help other developers, inform them and share your opinion.<br />
Use the helper on this webpage: <a href="https://web.crev.dev/rust-reviews/review_new">web.crev.dev/rust-reviews/review_new</a></p>
<h2 id="cratesio-and-librs" class="section-header"><a href="#cratesio-and-librs">crates.io and lib.rs</a></h2>
<p>A similar web page is also created by @Kornelski at <a href="https://lib.rs/crates/num-traits/crev">https://lib.rs/crates/num-traits/crev</a>.<br />
lib.rs is an alternative index to crates.io.<br />
Crates.io is official rust-lang server, focused more on the trusted storage of crates. It does near to nothing for searching a crate.<br />
Lib.rs is more focused on making easier to find a crate in a category. The code is still stored on crates.io. So the trust of authenticity of the code is high.</p>
<h2 id="warp" class="section-header"><a href="#warp">warp</a></h2>
<p>Warp is a web server written in rust.<br />
<a href="https://github.com/seanmonstar/warp">https://github.com/seanmonstar/warp</a><br />
It will listen on port 8051 listens to http.</p>
<h2 id="google-vm" class="section-header"><a href="#google-vm">Google vm</a></h2>
<p>One beta working server is installed on my google vm.<br />
There is a nginx server reverse proxy that accepts https http2 on 443 and relay to internal 8051.
Nginx also redirects all http 80 to https 443.<br />
In sites-available/default I added this lines:</p>
<div class="example-wrap"><pre class="language-nginx"><code>#region rust-reviews
    #without the trailing / it is not a directory (for the server and for the browser)
    #do the browser redirect 301
    location = /rust-reviews {
      return 301 /rust-reviews/;
    }
    #folder name only, pass to index.html on port 8051
    location = /rust-reviews/ {
      proxy_pass http://127.0.0.1:8051/index.html;
      proxy_buffering off;
    }
    location /rust-reviews/ {
      proxy_pass http://127.0.0.1:8051/;
      proxy_buffering off;
    }
  #endregion</code></pre></div>
<p>The application will be in background with the command “screen” with a session_name.<br />
So I can see all the stdout of the application easily.<br />
create a new session<br />
<code>screen -S cargo_crev_web_8051</code>,<br />
connect to an existing session<br />
<code>screen -r cargo_crev_web_8051</code>,<br />
start the web server<br />
<code>cd /var/www/webapps/cargo_crev_web; ./cargo_crev_web</code>
detach the session
<code>ctrl+a d</code></p>
<h2 id="install-cargo-crev-to-fetch-reviews" class="section-header"><a href="#install-cargo-crev-to-fetch-reviews">install cargo-crev to fetch reviews</a></h2>
<p>On my web server I want to fetch the cargo-crev reviews from GitHub in regular intervals.<br />
I need to install cargo-crev.<br />
My first attempt was to install rust and cargo with rustup with minimal profile.
<code>curl https://sh.rustup.rs -sSf | sh -s -- --profile minimal</code><br />
Then I tried to install cargo-crev with cargo:<br />
<code>cargo install cargo-crev</code><br />
It was a disaster. I have the smallest, tiniest possible VM and it looks that compiling the source code of cargo-crev is too much for it. I tried 3 times, waited for a few hours and it didn’t succeed.<br />
Fortunately there is a binary release already compiled here:<br />
<code>https://github.com/crev-dev/cargo-crev/releases/download/v0.16.1/cargo-crev-v0.16.1-x86_64-unknown-linux-musl.tar.gz</code><br />
I unzip it twice and saved the binary file <code>cargo-crev</code> in:<br />
<code>~/.cargo/bin</code><br />
I could use it already and fetch all the repos, but that is not super safe. Better is to fetch only the trusted repos.<br />
For this I need to create a crev Id and for that I need to have a GitHub repo.<br />
Size of .cache/crev
On my local machine is 7 MB
On web server 2 MB
It looks that it is not extremely big.</p>
<h2 id="github-crev-proofs" class="section-header"><a href="#github-crev-proofs">GitHub crev-proofs</a></h2>
<p>I followed the instructions <a href="https://github.com/crev-dev/cargo-crev/blob/master/cargo-crev/src/doc/getting_started.md">https://github.com/crev-dev/cargo-crev/blob/master/cargo-crev/src/doc/getting_started.md</a><br />
I created a new GitHub user: <code>cargo-crev-web</code>. I wanted cargo_crev_web, but I couldn’t. So I have inconsistent name here.<br />
I used my second email, because my first email is used for my personal GitHub LucianoBestia.<br />
On the google vm web server I created an SSH key and copied the key to GitHub to have SSH access.<br />
I forked the template <a href="https://github.com/crev-dev/crev-proofs">https://github.com/crev-dev/crev-proofs</a>.<br />
For fetch I will open a new screen session:<br />
<code>screen -S cargo_crev_web_git</code><br />
to reconnect later: <code>screen -r cargo_crev_web_git</code><br />
I will need the credentials for ssh for GitHub:<br />
<code>eval $(ssh-agent -s)</code><br />
<code>ssh-add ~/.ssh/bestia2_for_github</code><br />
create new crev id with my new github repo:<br />
<code>cargo crev id new --url https://github.com/cargo-crev-web/crev-proofs</code><br />
add a trusted user:<br />
<code>crev id trust &lt;hash&gt;</code><br />
example for dpc - Dawid Ciężarkiewicz, the author of cargo-crev. I trust him:<br />
<code>cargo crev id trust FYlr8YoYGVvDwHQxqEIs89reKKDy-oWisoO0qXXEfHE</code><br />
it is possible also to trust a repo:<br />
<code>cargo crev trust &lt;url of someone's crev-proofs repo&gt;</code><br />
At the end of editing the local data push:<br />
<code>cargo crev repo publish</code></p>
<h2 id="trusted-reviewers" class="section-header"><a href="#trusted-reviewers">trusted reviewers</a></h2>
<p>For the purpose of showing most existing reviews, the cargo_rev_web will “trust” anybody.<br />
It is not really trusting, it is just showing their reviews.<br />
The repo <a href="https://gitlab.com/crev-dev/auto-crev-proofs">https://gitlab.com/crev-dev/auto-crev-proofs</a> contains all of the proof repos.<br />
It is automated and maintained by @chrysn.<br />
<a href="https://github.com/crev-dev/cargo-crev/issues/336">https://github.com/crev-dev/cargo-crev/issues/336</a><br />
Other reference is <a href="https://github.com/crev-dev/cargo-crev/wiki/List-of-Proof-Repositories">https://github.com/crev-dev/cargo-crev/wiki/List-of-Proof-Repositories</a><br />
For incomplete, obsolete or otherwise unwanted repos I will have an editable blacklist.</p>
<h2 id="linux-scheduler" class="section-header"><a href="#linux-scheduler">Linux scheduler</a></h2>
<p>I need to call every hour:<br />
<code>cargo crev repo fetch trusted</code>
to have fresh reviews available locally in <code>~/.cache/crev/</code>.<br />
The Linux scheduler <code>crontab</code> is ok, but I miss something more visual.<br />
I wrote <a href="https://github.com/LucianoBestia/foreground_scheduler">https://github.com/LucianoBestia/foreground_scheduler</a> to do this.<br />
It is a normal CLI and it is easy to see the output on the screen.<br />
To make this run indefinitely in another terminal session I use <code>screen</code>.
The script is in /var/www/scripts/cargo_crev_web_fetch_reindex.sh<br />
I run it:<br />
<code>foreground_scheduler 05 /bin/bash &quot;/var/www/scripts/cargo_crev_web_fetch_reindex.sh&quot;</code></p>
<h2 id="testing-cachecrev" class="section-header"><a href="#testing-cachecrev">testing .cache/crev</a></h2>
<p>Not all data is required in every review, so I need to test examples that contains different data.<br />
<a href="https://web.crev.dev/rust-reviews/crate/btoi">https://web.crev.dev/rust-reviews/crate/btoi</a>  alternatives<br />
<a href="https://web.crev.dev/rust-reviews/crate/num-traits/">https://web.crev.dev/rust-reviews/crate/num-traits/</a>  issues<br />
<a href="https://web.crev.dev/rust-reviews/crate/protobuf">https://web.crev.dev/rust-reviews/crate/protobuf</a>  advisory old<br />
<a href="https://web.crev.dev/rust-reviews/crate/inventory">https://web.crev.dev/rust-reviews/crate/inventory</a>   advisories</p>
<p>Locally in development is the same, just the server is 127.0.0.1:8051/.</p>
<h2 id="html-templating" class="section-header"><a href="#html-templating">html templating</a></h2>
<p>Like many developers I also suffer from “graphical designitis”.<br />
It is very hard for me to find the exact color variations and shape proportions and subtle font differences to make a web page beautiful. It is not lack of knowledge of html and css. It is lack of style and taste.<br />
Simply unrepairable!<br />
So I created a simple html templating system to separate the graphical designer work from the developer work. As much as possible.<br />
First the graphical designer prepares a nice html+css with static data, that looks awesome.<br />
The 2 files are on his local disk and don’t need any server or configuration. The static data must be as realistic as possible.<br />
Then I add comments that are commands where to insert the dynamic data. This comments don’t destroy the original html. That html can still be visualized statically from the disk. It is easy to add to or modify the design. Just avoid to touch the comments.<br />
On the web server the HtmlTemplating trait takes the template and inserts the dynamic data.<br />
The result is normal html and is sent to the browser.</p>
<h2 id="badges" class="section-header"><a href="#badges">Badges</a></h2>
<p>A service for SVG badges for <code>crev count of reviews for one crate</code> is on url:<br />
<a href="https://web.crev.dev/rust-reviews/badge/crev_count/reader_for_microxml.svg">https://web.crev.dev/rust-reviews/badge/crev_count/reader_for_microxml.svg</a><br />
Example how it looks like on GitHub:<br />
<a href="https://github.com/LucianoBestia/reader_for_microxml/">https://github.com/LucianoBestia/reader_for_microxml/</a></p>
<div class="example-wrap"><pre class="language-markdown"><code>[![crev reviews](
https://web.crev.dev/rust-reviews/badge/crev_count/reader_for_microxml.svg
)](https://web.crev.dev/rust-reviews/crate/reader_for_microxml/)</code></pre></div><h3 id="xhtml-validator" class="section-header"><a href="#xhtml-validator">xhtml validator</a></h3>
<p>Manually coded xhtml can be full of “bugs”.<br />
The validator will quickly find them out.<br />
I would like to have this tool inside VsCode.<br />
<a href="https://www.liquid-technologies.com/online-xml-validator">https://www.liquid-technologies.com/online-xml-validator</a></p>
<h2 id="codetour" class="section-header"><a href="#codetour">CodeTour</a></h2>
<p>I like very much the VSCode extension CodeTour.<br />
It makes a special kind of documentation that shows the code flow.<br />
No other type of documentation is so useful as this.<br />
It works only in VSCode. I made an export to md utility because is so much easier to distribute the md file around.</p>
<h2 id="javascript-click-to-copy" class="section-header"><a href="#javascript-click-to-copy">javascript Click to Copy</a></h2>
<p>I used <a href="https://clipboardjs.com/">https://clipboardjs.com/</a> for Click to Copy.<br />
For tooltips I used <a href="https://chrisbracco.com/a-simple-css-tooltip/">https://chrisbracco.com/a-simple-css-tooltip/</a></p>
<h2 id="colors" class="section-header"><a href="#colors">colors</a></h2>
<p>Every person on this planet would like to have different colors. That is human nature. Or just nature’s statistical dispersion to increase chance of survival when the environment changes dramatically…<br />
To build a website that satisfies everybody’s taste for color is impossible.<br />
Even hoping to satisfy a few close friends is mission impossible.<br />
So there is this Chrome extension named User Css:<br />
<a href="https://chrome.google.com/webstore/detail/user-css/okpjlejfhacmgjkmknjhadmkdbcldfcb">https://chrome.google.com/webstore/detail/user-css/okpjlejfhacmgjkmknjhadmkdbcldfcb</a><br />
You write a css in your browser and while you are typing it immediately changes the look of the webpage.<br />
In the webpage <a href="https://web.crev.dev/rust-reviews/">https://web.crev.dev/rust-reviews/</a> you can find a basic css for the color palette. Just Click-to-Copy and try it in User Css. Then change colors to your liking.<br />
At the end save the css for the next time you visit the website.<br />
If somebody is very happy with his/her user css, please send it to me. I will make it available to other users. They will be happy. Humans love colors - different colors.</p>
<h2 id="ideas" class="section-header"><a href="#ideas">ideas</a></h2>
<p>The same web server can easily run on the local machine of the developer.<br />
It is just one single binary executable file.<br />
It will read only the trusted reviews specific to that developer.<br />
So now we have a local web server and a browser. It means we have now the possibility to make a beautiful GUI for cargo-crev that works on any OS and remotely also. Good.<br />
This local server will ue crev-lib to access the crev functionality.</p>
<h2 id="stats" class="section-header"><a href="#stats">Stats</a></h2>
<p><a href="https://github.com/LucianoBestia/cargo_crev_web/issues/4">https://github.com/LucianoBestia/cargo_crev_web/issues/4</a></p>
<h2 id="references" class="section-header"><a href="#references">References</a></h2>
<p><a href="https://github.com/rustomax/rust-iterators">https://github.com/rustomax/rust-iterators</a></p>
</div></details><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="mod" href="badge_mod/index.html" title="cargo_crev_web::badge_mod mod">badge_mod</a></div><div class="item-right docblock-short"><p>badge_mod</p>
</div><div class="item-left module-item"><a class="mod" href="cargo_registry_index_mod/index.html" title="cargo_crev_web::cargo_registry_index_mod mod">cargo_registry_index_mod</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="crate_reviews_mod/index.html" title="cargo_crev_web::crate_reviews_mod mod">crate_reviews_mod</a></div><div class="item-right docblock-short"><p>crate_reviews_mod</p>
</div><div class="item-left module-item"><a class="mod" href="crate_version_summary_mod/index.html" title="cargo_crev_web::crate_version_summary_mod mod">crate_version_summary_mod</a></div><div class="item-right docblock-short"><p>crate_version_summary_mod</p>
</div><div class="item-left module-item"><a class="mod" href="crates_mod/index.html" title="cargo_crev_web::crates_mod mod">crates_mod</a></div><div class="item-right docblock-short"><p>crates_mod</p>
</div><div class="item-left module-item"><a class="mod" href="data_file_scan_mod/index.html" title="cargo_crev_web::data_file_scan_mod mod">data_file_scan_mod</a></div><div class="item-right docblock-short"><p>data_file_scan_mod</p>
</div><div class="item-left module-item"><a class="mod" href="html_server_template_mod/index.html" title="cargo_crev_web::html_server_template_mod mod">html_server_template_mod</a></div><div class="item-right docblock-short"><p>html_server_template_mod
html templating library for the web server
should be compatible also with svg, because of namespaces</p>
</div><div class="item-left module-item"><a class="mod" href="issue_mod/index.html" title="cargo_crev_web::issue_mod mod">issue_mod</a></div><div class="item-right docblock-short"><p>issue_mod</p>
</div><div class="item-left module-item"><a class="mod" href="last_reviews_mod/index.html" title="cargo_crev_web::last_reviews_mod mod">last_reviews_mod</a></div><div class="item-right docblock-short"><p>last_reviews_mod</p>
</div><div class="item-left module-item"><a class="mod" href="macros_mod/index.html" title="cargo_crev_web::macros_mod mod">macros_mod</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="main_code_mod/index.html" title="cargo_crev_web::main_code_mod mod">main_code_mod</a></div><div class="item-right docblock-short"><p>main.rs</p>
</div><div class="item-left module-item"><a class="mod" href="people_of_rust_mod/index.html" title="cargo_crev_web::people_of_rust_mod mod">people_of_rust_mod</a></div><div class="item-right docblock-short"><p>people_of_rust_mod</p>
</div><div class="item-left module-item"><a class="mod" href="reserved_folder_mod/index.html" title="cargo_crev_web::reserved_folder_mod mod">reserved_folder_mod</a></div><div class="item-right docblock-short"><p>reserved_folder_mod
This is only one module/html page, but can execute different actions.
The data model must have fields for every action as Option&lt;&gt;.
Because only this data can influence the html render.
There are different “new” functions for different actions, to prepare adequate data.
If field is is_some(), then render the html part dedicated to this action.</p>
</div><div class="item-left module-item"><a class="mod" href="review_index_mod/index.html" title="cargo_crev_web::review_index_mod mod">review_index_mod</a></div><div class="item-right docblock-short"><p>review_index_mod</p>
</div><div class="item-left module-item"><a class="mod" href="review_index_summary_mod/index.html" title="cargo_crev_web::review_index_summary_mod mod">review_index_summary_mod</a></div><div class="item-right docblock-short"><p>review_index_summary_mod</p>
</div><div class="item-left module-item"><a class="mod" href="review_mod/index.html" title="cargo_crev_web::review_mod mod">review_mod</a></div><div class="item-right docblock-short"><p>review_mod</p>
</div><div class="item-left module-item"><a class="mod" href="review_new_mod/index.html" title="cargo_crev_web::review_new_mod mod">review_new_mod</a></div><div class="item-right docblock-short"><p>review_mod</p>
</div><div class="item-left module-item"><a class="mod" href="reviewer_index_mod/index.html" title="cargo_crev_web::reviewer_index_mod mod">reviewer_index_mod</a></div><div class="item-right docblock-short"><p>reviewer_index_mod.rs</p>
</div><div class="item-left module-item"><a class="mod" href="reviewer_reviews_mod/index.html" title="cargo_crev_web::reviewer_reviews_mod mod">reviewer_reviews_mod</a></div><div class="item-right docblock-short"><p>reviewers_reviews_mod</p>
</div><div class="item-left module-item"><a class="mod" href="reviewers_mod/index.html" title="cargo_crev_web::reviewers_mod mod">reviewers_mod</a></div><div class="item-right docblock-short"><p>reviewers_mod</p>
</div><div class="item-left module-item"><a class="mod" href="router_mod/index.html" title="cargo_crev_web::router_mod mod">router_mod</a></div><div class="item-right docblock-short"><p>router_mod</p>
</div><div class="item-left module-item"><a class="mod" href="state_mod/index.html" title="cargo_crev_web::state_mod mod">state_mod</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="url_utf8_mod/index.html" title="cargo_crev_web::url_utf8_mod mod">url_utf8_mod</a></div><div class="item-right docblock-short"><p>url_utf8_mod
<strong>url encoding and decoding on the web server</strong>
This module is strictly limited to utf8 urls.<br />
Url is made of parts, fragments or segments mostly delimited by slash “/”.<br />
They must be separately encoded/decoded, not as a whole string.<br />
It is impossible to guarantee that the whole string is correctly encoded/decoded.<br />
But is possible to minimize the misuse of the String type for Url.<br />
With the normal String it is not possible to force the developer to encode/decode.<br />
With special wrapper types around String is possible to help the coder to write properly and not forget about it.<br />
TODO: analyze if is possible to use more &amp;str and Cow instead of always allocating String.<br />
But urls are usually small and this is not a priority.</p>
</div><div class="item-left module-item"><a class="mod" href="utils_mod/index.html" title="cargo_crev_web::utils_mod mod">utils_mod</a></div><div class="item-right docblock-short"><p>utils_mod.rs</p>
</div><div class="item-left module-item"><a class="mod" href="version_summary_mod/index.html" title="cargo_crev_web::version_summary_mod mod">version_summary_mod</a></div><div class="item-right docblock-short"><p>crate_version_summary_mod</p>
</div></div><h2 id="macros" class="section-header"><a href="#macros">Macros</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="macro" href="macro.s.html" title="cargo_crev_web::s macro">s</a></div><div class="item-right docblock-short"><p>short macro <code>s!</code> for &amp;str.to_string or format!().
because that is so common.
Equivalents: String::new(), x.to_string(), x.to_owned(),…</p>
</div><div class="item-left module-item"><a class="macro" href="macro.url_u.html" title="cargo_crev_web::url_u macro">url_u</a></div><div class="item-right docblock-short"><p>returns UrlUtf8EncodedString::new_x
Constructor macro for UrlUtf8EncodedString
The attribute macro_export “moves” the macro in the main module.
Macros cannot be inside impl like fn.
The module names must be added to the code to work properly.
TODO: use macro repetition to avoid having 4 different fn.</p>
</div></div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="struct" href="struct.Attribute.html" title="cargo_crev_web::Attribute struct">Attribute</a></div><div class="item-right docblock-short"><p>An attribute on a DOM node, such as <code>id=&quot;my-thing&quot;</code></p>
</div><div class="item-left module-item"><a class="struct" href="struct.ElementNode.html" title="cargo_crev_web::ElementNode struct">ElementNode</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="struct" href="struct.SubTemplate.html" title="cargo_crev_web::SubTemplate struct">SubTemplate</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="struct" href="struct.UrlPartUtf8Decoded.html" title="cargo_crev_web::UrlPartUtf8Decoded struct">UrlPartUtf8Decoded</a></div><div class="item-right docblock-short"><p>the url must be utf 8. Only the 5 control characters are encoded.
url has parts or fragments or segments delimited mostly by slash /
every part must be encoded/decoded separately,
to maintain the control character slash /</p>
</div><div class="item-left module-item"><a class="struct" href="struct.UrlUtf8EncodedString.html" title="cargo_crev_web::UrlUtf8EncodedString struct">UrlUtf8EncodedString</a></div><div class="item-right docblock-short"><p>Type UrlUtf8EncodedString explicitly informs that the content has been url encoded.
It contains a string with the whole url.
The url is constructed with a special macro, where the dynamic parts are always encoded.
It is impossible to force the developer to properly encode the static part of the url.
But this special type is making this kind of errors difficult, obvious and traceable.
TODO: the macro could use repetition to avoid having 4 fn with different number of parameters.</p>
</div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="enum" href="enum.HtmlOrSvg.html" title="cargo_crev_web::HtmlOrSvg enum">HtmlOrSvg</a></div><div class="item-right docblock-short"><p>Svg elements are different because they have a namespace</p>
</div><div class="item-left module-item"><a class="enum" href="enum.Node.html" title="cargo_crev_web::Node enum">Node</a></div><div class="item-right docblock-short"></div></div><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="trait" href="trait.HtmlServerTemplateRender.html" title="cargo_crev_web::HtmlServerTemplateRender trait">HtmlServerTemplateRender</a></div><div class="item-right docblock-short"></div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="fn" href="fn.conditional_usize.html" title="cargo_crev_web::conditional_usize fn">conditional_usize</a></div><div class="item-right docblock-short"><p>similar to ternary operator</p>
</div><div class="item-left module-item"><a class="fn" href="fn.decode_html_script_node.html" title="cargo_crev_web::decode_html_script_node fn">decode_html_script_node</a></div><div class="item-right docblock-short"><p>in html the <script> element is decoded differently</p>
</div><div class="item-left module-item"><a class="fn" href="fn.encode_html_script_node.html" title="cargo_crev_web::encode_html_script_node fn">encode_html_script_node</a></div><div class="item-right docblock-short"><p>in html the <script> element is encoded differently</p>
</div><div class="item-left module-item"><a class="fn" href="fn.find_from.html" title="cargo_crev_web::find_from fn">find_from</a></div><div class="item-right docblock-short"><p>find str from pos_cursor low level</p>
</div><div class="item-left module-item"><a class="fn" href="fn.find_pos_after_delimiter.html" title="cargo_crev_web::find_pos_after_delimiter fn">find_pos_after_delimiter</a></div><div class="item-right docblock-short"><p>return the position after the delimiter or None
Does NOT mutate the pos_cursor, because that is for a higher level logic to decide.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.find_pos_before_delimiter.html" title="cargo_crev_web::find_pos_before_delimiter fn">find_pos_before_delimiter</a></div><div class="item-right docblock-short"><p>return the position before the delimiter or None
Does NOT mutate the pos_cursor, because that is for a higher level logic to decide.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.find_range_between_delimiters.html" title="cargo_crev_web::find_range_between_delimiters fn">find_range_between_delimiters</a></div><div class="item-right docblock-short"><p>find and return the range of the first occurrence between start and end delimiters
Success: mutates also the cursor position, so the next find will continue from there
Fail: return None if not found and don’t mutate pos_cursor
I use type Range to avoid references &amp;str and lifetimes. But the programmer can make
the error to apply the range to the wrong vector.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.main.html" title="cargo_crev_web::main fn">main</a></div><div class="item-right docblock-short"><p>main function of the binary</p>
</div><div class="item-left module-item"><a class="fn" href="fn.main_code.html" title="cargo_crev_web::main_code fn">main_code</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="fn" href="fn.ns_elapsed.html" title="cargo_crev_web::ns_elapsed fn">ns_elapsed</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="fn" href="fn.ns_print.html" title="cargo_crev_web::ns_print fn">ns_print</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="fn" href="fn.ns_start.html" title="cargo_crev_web::ns_start fn">ns_start</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="fn" href="fn.parse_semver.html" title="cargo_crev_web::parse_semver fn">parse_semver</a></div><div class="item-right docblock-short"><p>parse semver ex. 12.99.88alpha</p>
</div><div class="item-left module-item"><a class="fn" href="fn.render_sub_template_match_else.html" title="cargo_crev_web::render_sub_template_match_else fn">render_sub_template_match_else</a></div><div class="item-right docblock-short"><p>boilerplate</p>
</div><div class="item-left module-item"><a class="fn" href="fn.replace_with_nodes_match_else.html" title="cargo_crev_web::replace_with_nodes_match_else fn">replace_with_nodes_match_else</a></div><div class="item-right docblock-short"><p>boilerplate</p>
</div><div class="item-left module-item"><a class="fn" href="fn.replace_with_string_match_else.html" title="cargo_crev_web::replace_with_string_match_else fn">replace_with_string_match_else</a></div><div class="item-right docblock-short"><p>boilerplate</p>
</div><div class="item-left module-item"><a class="fn" href="fn.replace_with_url_match_else.html" title="cargo_crev_web::replace_with_url_match_else fn">replace_with_url_match_else</a></div><div class="item-right docblock-short"><p>boilerplate</p>
</div><div class="item-left module-item"><a class="fn" href="fn.retain_next_node_or_attribute_match_else.html" title="cargo_crev_web::retain_next_node_or_attribute_match_else fn">retain_next_node_or_attribute_match_else</a></div><div class="item-right docblock-short"><p>boilerplate</p>
</div><div class="item-left module-item"><a class="fn" href="fn.reviewer_name_from_url.html" title="cargo_crev_web::reviewer_name_from_url fn">reviewer_name_from_url</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="fn" href="fn.traverse_dir_with_exclude_dir.html" title="cargo_crev_web::traverse_dir_with_exclude_dir fn">traverse_dir_with_exclude_dir</a></div><div class="item-right docblock-short"><p>traverse dir (sub-dir) with exclude dir
the find_file and the exclude dir strings must start with /</p>
</div><div class="item-left module-item"><a class="fn" href="fn.url_s_zero_to_empty.html" title="cargo_crev_web::url_s_zero_to_empty fn">url_s_zero_to_empty</a></div><div class="item-right docblock-short"><p>to string, but zero converts to empty</p>
</div><div class="item-left module-item"><a class="fn" href="fn.version_for_sorting.html" title="cargo_crev_web::version_for_sorting fn">version_for_sorting</a></div><div class="item-right docblock-short"><p>version for sorting</p>
</div></div><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="type" href="type.ArcMutStateGlobal.html" title="cargo_crev_web::ArcMutStateGlobal type">ArcMutStateGlobal</a></div><div class="item-right docblock-short"></div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="cargo_crev_web" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>